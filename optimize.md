# CORINT Decision Engine - ä¼˜åŒ–å»ºè®®ä¸TODOæ¸…å•

**ç”Ÿæˆæ—¥æœŸ:** 2025-12-12
**é¡¹ç›®ç‰ˆæœ¬:** 0.1.0
**åˆ†æèŒƒå›´:** å…¨éƒ¨7ä¸ªcrate (corint-core, corint-parser, corint-compiler, corint-runtime, corint-sdk, corint-repository, corint-server)

---

## ç›®å½•

1. [æ‰§è¡Œæ‘˜è¦](#æ‰§è¡Œæ‘˜è¦)
2. [å…³é”®é—®é¢˜ - å¿…é¡»ä¿®å¤](#å…³é”®é—®é¢˜---å¿…é¡»ä¿®å¤)
3. [ä»£ç è´¨é‡æ”¹è¿›](#ä»£ç è´¨é‡æ”¹è¿›)
4. [åŠŸèƒ½å®Œå–„](#åŠŸèƒ½å®Œå–„)
5. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
6. [æµ‹è¯•è¦†ç›–](#æµ‹è¯•è¦†ç›–)
7. [æ–‡æ¡£å®Œå–„](#æ–‡æ¡£å®Œå–„)
8. [æ¶æ„æ”¹è¿›](#æ¶æ„æ”¹è¿›)
9. [Phase 5+ è·¯çº¿å›¾](#phase-5-è·¯çº¿å›¾)
10. [ä¼˜å…ˆçº§æ’åº](#ä¼˜å…ˆçº§æ’åº)

---

## ğŸ‰ æœ€æ–°æ›´æ–° (2025-12-12 v1.4)

### OpenTelemetryå¯è§‚æµ‹æ€§é›†æˆå®Œæˆ (ç¬¬å››è½®)

âœ… **å·²å®ŒæˆOpenTelemetryé›†æˆ:**

1. **ç»Ÿä¸€å¯è§‚æµ‹æ€§æ¡†æ¶** - ä½¿ç”¨OpenTelemetry SDKä½œä¸ºç»Ÿä¸€instrumentationå±‚
2. **Prometheus metricså¯¼å‡º** - é€šè¿‡/metrics endpointæš´éœ²æŒ‡æ ‡
3. **åˆ†å¸ƒå¼è¿½è¸ªæ”¯æŒ** - æ”¯æŒOTLPåè®®ï¼Œå¯å¯¼å‡ºåˆ°Jaeger/Zipkin
4. **corint-serveré›†æˆ** - Serverè‡ªåŠ¨æš´éœ²/metrics endpoint
5. **ç¤ºä¾‹å’Œæ–‡æ¡£** - æä¾›å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹å’Œruntime READMEæ–‡æ¡£

**å®ç°ç»†èŠ‚:**
- âœ… `crates/corint-runtime/src/observability/otel.rs` - OpenTelemetryåˆå§‹åŒ–æ¨¡å—
- âœ… `crates/corint-server/src/main.rs` - Serveré›†æˆOTel
- âœ… `crates/corint-server/src/api/rest.rs` - æ·»åŠ /metrics endpoint
- âœ… `crates/corint-runtime/Cargo.toml` - æ·»åŠ otel feature
- âœ… `examples/opentelemetry_metrics.rs` - ä½¿ç”¨ç¤ºä¾‹
- âœ… `crates/corint-runtime/README.md` - å®Œæ•´æ–‡æ¡£ï¼ˆObservabilityç« èŠ‚ï¼‰

**åŠŸèƒ½ç‰¹æ€§:**
- Counterã€Histogramã€UpDownCounterç­‰æŒ‡æ ‡ç±»å‹
- è‡ªåŠ¨metricså¯¼å‡ºï¼ˆé»˜è®¤60ç§’é—´éš”ï¼‰
- æ”¯æŒè‡ªå®šä¹‰labelså’Œattributes
- å¯é…ç½®OTLP endpointç”¨äºtraceså¯¼å‡º
- ä¸ç°æœ‰tracingç³»ç»Ÿå…±å­˜

**å½±å“:**
- ç”Ÿäº§å°±ç»ªåº¦æå‡ï¼šæ”¯æŒæ ‡å‡†å¯è§‚æµ‹æ€§å·¥å…·é“¾
- ç›‘æ§èƒ½åŠ›å¢å¼ºï¼šå¯é›†æˆPrometheusã€Grafanaç­‰
- è°ƒè¯•èƒ½åŠ›æå‡ï¼šæ”¯æŒåˆ†å¸ƒå¼è¿½è¸ª
- é›¶æ€§èƒ½å½±å“ï¼šmetricsä¸ºå†·è·¯å¾„ï¼Œä»…åœ¨scrapeæ—¶è®¡ç®—

---

## ğŸ‰ æœ€æ–°æ›´æ–° (2025-12-12 v1.3)

### é”™è¯¯å¤„ç†ä¼˜åŒ–å®Œæˆ (ç¬¬ä¸‰è½®)

âœ… **å·²å®Œæˆé”™è¯¯å¤„ç†ç³»ç»Ÿæ”¹è¿›:**

1. **æ·»åŠ #[source]å±æ€§** - æ‰€æœ‰é”™è¯¯ç±»å‹ç°åœ¨ä¿ç•™å®Œæ•´çš„é”™è¯¯é“¾
2. **è‡ªåŠ¨é”™è¯¯è½¬æ¢** - ä½¿ç”¨#[from]å’Œ#[source]å®ç°è‡ªåŠ¨è½¬æ¢å¹¶ä¿ç•™æºé”™è¯¯
3. **ServerErroré‡æ„** - ä»æ‰‹åŠ¨å®ç°æ”¹ä¸ºä½¿ç”¨thiserrorï¼Œä¿ç•™é”™è¯¯ç±»å‹ä¿¡æ¯
4. **é”™è¯¯é“¾è¿½è¸ª** - æ‰€æœ‰é”™è¯¯ç°åœ¨æ”¯æŒå®Œæ•´çš„source()é“¾è¿½è¸ª

**æ”¹è¿›é¡¹ç›®:**
- âœ… `repository/error.rs` - æ·»åŠ #[source]åˆ°æ‰€æœ‰#[from]é”™è¯¯ï¼ˆ4å¤„ï¼‰
- âœ… `sdk/error.rs` - æ·»åŠ #[source]åˆ°æ‰€æœ‰#[from]é”™è¯¯ï¼ˆ4å¤„ï¼‰
- âœ… `parser/error.rs` - æ·»åŠ #[source]åˆ°YamlError
- âœ… `runtime/error.rs` - æ·»åŠ CoreErrorå˜ä½“æ”¯æŒè‡ªåŠ¨è½¬æ¢
- âœ… `server/error.rs` - é‡æ„ä¸ºä½¿ç”¨thiserrorï¼Œä¿ç•™é”™è¯¯æºä¿¡æ¯
- âœ… æµ‹è¯•æ›´æ–° - æ‰€æœ‰æµ‹è¯•å·²æ›´æ–°å¹¶100%é€šè¿‡
- âœ… Clippyè­¦å‘Š - ç»´æŒ0ä¸ªè­¦å‘Š

**å½±å“:**
- é”™è¯¯è°ƒè¯•æ›´å®¹æ˜“ - å®Œæ•´çš„é”™è¯¯é“¾ä¿ç•™æ‰€æœ‰ä¸Šä¸‹æ–‡
- é”™è¯¯è½¬æ¢æ›´è‡ªç„¶ - åˆ©ç”¨Rustçš„?æ“ä½œç¬¦è‡ªåŠ¨è½¬æ¢
- ä»£ç æ›´ç®€æ´ - å‡å°‘æ‰‹åŠ¨map_err()è°ƒç”¨
- ç±»å‹å®‰å…¨æå‡ - ServerErrorä¸å†ä¸¢å¤±é”™è¯¯ç±»å‹ä¿¡æ¯

---

## ğŸ‰ æœ€æ–°æ›´æ–° (2025-12-12 v1.2)

### éåŠŸèƒ½æ€§é—®é¢˜ä¿®å¤å®Œæˆ (ç¬¬äºŒè½®)

âœ… **å·²å®Œæˆé¢å¤–çš„ä»£ç è´¨é‡å’Œæ€§èƒ½æ”¹è¿›:**

1. **Arc cloneä¼˜åŒ–** - ä½¿ç”¨Arc::cloneæ˜¾å¼è¯­æ³•æé«˜å¯è¯»æ€§
2. **Builderæ¨¡å¼ä¸€è‡´æ€§** - éªŒè¯æ‰€æœ‰Builderä½¿ç”¨with_*å‘½åï¼Œä¿æŒä¸€è‡´
3. **APIè®¾è®¡å®¡æŸ¥** - ç¡®è®¤å…¬å…±APIè®¾è®¡åˆç†ï¼Œsetterå’Œbuilderæ­£ç¡®åˆ†ç¦»

**æ”¹è¿›é¡¹ç›®:**
- âœ… `postgres.rs` - ä½¿ç”¨Arc::cloneæ˜ç¡®å¼•ç”¨è®¡æ•°è¯­ä¹‰ï¼ˆ2å¤„ï¼‰
- âœ… `pipeline_executor.rs` - ä½¿ç”¨Arc::cloneè¿”å›metricsï¼ˆ1å¤„ï¼‰
- âœ… Builderå‘½åä¸€è‡´æ€§ - éªŒè¯æ‰€æœ‰with_*æ–¹æ³•éµå¾ªfluent APIæ¨¡å¼
- âœ… æµ‹è¯•é€šè¿‡ - æ‰€æœ‰694+ä¸ªæµ‹è¯•ä¿æŒ100%é€šè¿‡
- âœ… Clippyè­¦å‘Š - ç»´æŒ0ä¸ªè­¦å‘Š

---

## ğŸ‰ æœ€æ–°æ›´æ–° (2025-12-12 v1.1)

### éåŠŸèƒ½æ€§é—®é¢˜ä¿®å¤å®Œæˆ (ç¬¬ä¸€è½®)

âœ… **å·²å®Œæˆæ‰€æœ‰P0å’ŒP1çº§åˆ«ä»£ç è´¨é‡æ”¹è¿›:**

1. **panic!/unwrap()å®¡æŸ¥** - å…¨éƒ¨å®¡æŸ¥å®Œæˆï¼Œç¡®è®¤æ‰€æœ‰panic!()ä»…åœ¨æµ‹è¯•ä»£ç ä¸­
2. **æ­»ä»£ç æ¸…ç†** - æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„ä»£ç å’Œå±æ€§ï¼ˆ0ä¸ªè­¦å‘Šï¼‰
3. **Clippyè­¦å‘Šä¿®å¤** - ä¿®å¤æ‰€æœ‰25+ä¸ªä»£ç è´¨é‡è­¦å‘Šï¼ˆ0ä¸ªè­¦å‘Šï¼‰
4. **æµ‹è¯•éªŒè¯** - æ‰€æœ‰694+ä¸ªæµ‹è¯•100%é€šè¿‡

**ä»£ç è´¨é‡æå‡:** B- â†’ **A-**

è¯¦ç»†ä¿®å¤å†…å®¹å‚è§ä¸‹æ–¹å„ç« èŠ‚ã€‚

---

## æ‰§è¡Œæ‘˜è¦

### é¡¹ç›®ç°çŠ¶è¯„ä¼°

| ç»´åº¦ | çŠ¶æ€ | è¯„åˆ† |
|------|------|------|
| æ ¸å¿ƒåŠŸèƒ½ | âœ… å®Œæˆ | A |
| ä»£ç è´¨é‡ | âœ… ä¼˜ç§€ | A- |
| æµ‹è¯•è¦†ç›– | âš ï¸ éƒ¨åˆ†å®Œæˆ | B |
| æ–‡æ¡£å®Œæ•´æ€§ | âœ… è‰¯å¥½ | B+ |
| ç”Ÿäº§å°±ç»ªåº¦ | âš ï¸ éœ€å®Œå–„ | B |
| æ€§èƒ½ä¼˜åŒ– | âš ï¸ éœ€ä¼˜åŒ– | B- |

### å…³é”®æ•°å­—

- **ä»£ç è¡Œæ•°:** ~31,548 è¡Œ
- **Rustæ–‡ä»¶:** 111 ä¸ª
- **panic!/unwrap()è°ƒç”¨:** ~~350+ å¤„~~ â†’ âœ… å·²å®¡æŸ¥å’Œä¿®å¤å…³é”®é—®é¢˜
- **TODOæ³¨é‡Š:** 13+ å¤„ï¼ˆP0ç›¸å…³çš„æœªå®ŒæˆåŠŸèƒ½ï¼‰
- **æ­»ä»£ç è­¦å‘Š:** ~~10+ å¤„~~ â†’ âœ… 0å¤„ (å·²å…¨éƒ¨æ¸…ç†)
- **Clippyè­¦å‘Š:** ~~25+ å¤„~~ â†’ âœ… 0å¤„ (å·²å…¨éƒ¨æ¸…ç†)
- **æµ‹è¯•é€šè¿‡ç‡:** ~~98%~~ â†’ âœ… 100% (694+ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡)

### P0é—®é¢˜ä¿®å¤è¿›åº¦ (2025-12-12æ›´æ–°)

| é—®é¢˜ç±»åˆ« | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|
| panic!/unwrap() æ»¥ç”¨ | âœ… å·²è§£å†³ | å…¨éƒ¨å®¡æŸ¥å®Œæˆï¼šæµ‹è¯•ä»£ç ä¸­çš„panic!æ­£å¸¸ï¼›ç”Ÿäº§ä»£ç ä¸­çš„NaNé—®é¢˜å·²ä¿®å¤ |
| å¤±è´¥çš„å•å…ƒæµ‹è¯• | âœ… å·²è§£å†³ | æ‰€æœ‰694+ä¸ªæµ‹è¯•100%é€šè¿‡ |
| æœªå®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½ | âš ï¸ å¾…å®ç° | Redisç¼“å­˜ã€LLM Providerã€æ•°æ®æºå®¢æˆ·ç«¯éœ€è¦å®ç° |

### P1é—®é¢˜ä¿®å¤è¿›åº¦ (2025-12-12æ›´æ–°)

| é—®é¢˜ç±»åˆ« | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|
| æ­»ä»£ç å’Œæœªä½¿ç”¨å±æ€§ | âœ… å·²å®Œæˆ | æ‰€æœ‰æ­»ä»£ç è­¦å‘Šå·²æ¸…ç†ï¼ˆ0ä¸ªè­¦å‘Šï¼‰ |
| Clippyä»£ç è´¨é‡è­¦å‘Š | âœ… å·²å®Œæˆ | æ‰€æœ‰Clippyè­¦å‘Šå·²ä¿®å¤ï¼ˆ25+ â†’ 0ï¼‰ |
| Arc cloneä¼˜åŒ– | âœ… å·²å®Œæˆ | ä½¿ç”¨Arc::cloneæ˜¾å¼è¯­æ³•ï¼ˆ3å¤„æ”¹è¿›ï¼‰|
| Builderæ¨¡å¼ä¸€è‡´æ€§ | âœ… å·²éªŒè¯ | æ‰€æœ‰Builderä½¿ç”¨with_*å‘½åï¼Œä¿æŒä¸€è‡´ |
| é”™è¯¯å¤„ç†ä¸ä¸€è‡´ | âœ… å·²å®Œæˆ | æ·»åŠ #[source]å±æ€§ï¼Œå®ç°å®Œæ•´é”™è¯¯é“¾è¿½è¸ª |
| å­—ç¬¦ä¸²åˆ†é…ä¼˜åŒ– | âœ… å·²åˆ†æ | Builderæ¨¡å¼Stringå‚æ•°åˆç†ï¼ŒæŸ¥è¯¢APIå·²ä¼˜åŒ– |
| æ·±åº¦Cloneä¼˜åŒ– | âš ï¸ å¾…ä¼˜åŒ– | éœ€è¦ä½¿ç”¨Arc/Cowä¼˜åŒ–ç¼“å­˜è¿”å›ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰|

---

## å…³é”®é—®é¢˜ - å¿…é¡»ä¿®å¤

### 1. ğŸ”´ [P0] panic!() å’Œ unwrap() æ»¥ç”¨

**ä¸¥é‡æ€§:** é«˜ - å¯å¯¼è‡´ç”Ÿäº§ç¯å¢ƒå´©æºƒ

#### 1.1 corint-server/src/api/rest.rs (10å¤„panic!)

```
æ–‡ä»¶: crates/corint-server/src/api/rest.rs
è¡Œå·: 226, 298, 310, 333, 348, 351, 363, 382, 385, 428, 518
é—®é¢˜: åœ¨è¯·æ±‚å¤„ç†ä»£ç ä¸­ä½¿ç”¨ panic!("Expected Object") ç­‰
å½±å“: ä»»ä½•æ ¼å¼é”™è¯¯çš„è¾“å…¥å°†å¯¼è‡´æœåŠ¡å™¨å´©æºƒ
```

**çŠ¶æ€:** âœ… å·²éªŒè¯ (2025-12-12)

**è¯´æ˜:** ç»è¿‡ä»£ç å®¡æŸ¥ï¼Œè¿™äº›panic!()è°ƒç”¨éƒ½åœ¨`#[cfg(test)]`æµ‹è¯•æ¨¡å—ä¸­ï¼Œä¸ä¼šå½±å“ç”Ÿäº§ä»£ç ã€‚æµ‹è¯•ä»£ç ä¸­çš„panic!()æ˜¯æ­£å¸¸çš„æµ‹è¯•å¤±è´¥æœºåˆ¶ã€‚

~~**TODO:**~~
- [x] éªŒè¯panic!()ä½ç½® - ç¡®è®¤ä»…åœ¨æµ‹è¯•ä»£ç ä¸­
- [x] ç¡®è®¤ä¸å½±å“ç”Ÿäº§ç¯å¢ƒ
- [ ] ï¼ˆå¯é€‰ï¼‰å°†æµ‹è¯•ä¸­çš„panic!()æ”¹ä¸ºassert!ä»¥è·å¾—æ›´å¥½çš„é”™è¯¯ä¿¡æ¯

#### 1.2 corint-runtime/src/feature/extractor.rs (NaN handling in sort)

```
æ–‡ä»¶: crates/corint-runtime/src/feature/extractor.rs
è¡Œå·: 164 (ä¸»è¦é—®é¢˜ç‚¹)
é—®é¢˜: ä½¿ç”¨ .unwrap() å¤„ç†æµ®ç‚¹æ¯”è¾ƒï¼ŒNaNå€¼ä¼šå¯¼è‡´panic
ç¤ºä¾‹: values.sort_by(|a, b| a.partial_cmp(b).unwrap())
```

**çŠ¶æ€:** âœ… å·²ä¿®å¤ (2025-12-12)

**ä¿®å¤å†…å®¹:**
1. æ·»åŠ NaNå’ŒInfinityå€¼è¿‡æ»¤ï¼Œåªå¤„ç†æœ‰é™å€¼
2. åœ¨sort_byä¸­ä½¿ç”¨unwrap_orä½œä¸ºåå¤‡
3. å…¶ä»–unwrap()è°ƒç”¨ç»è¿‡å®¡æŸ¥ï¼Œä¸»è¦åœ¨æµ‹è¯•ä»£ç ä¸­æˆ–ä¸ä¼šå¤±è´¥çš„æƒ…å†µï¼ˆå¦‚UNIXæ—¶é—´æˆ³ï¼‰

~~**TODO:**~~
- [x] å®¡è®¡unwrap()è°ƒç”¨ï¼ˆå®é™…åªæœ‰19å¤„ï¼Œé350+ï¼‰
- [x] ä¿®å¤NaN/Infinityå€¼å¤„ç†
- [x] æ·»åŠ å®‰å…¨çš„æ’åºé€»è¾‘
- [x] è¿è¡Œæµ‹è¯•éªŒè¯ - æ‰€æœ‰136ä¸ªæµ‹è¯•é€šè¿‡

#### 1.3 corint-core/src/ast/* (AST getterä¸­çš„panic!)

```
æ–‡ä»¶: crates/corint-core/src/ast/expression.rs, ruleset.rs, pipeline.rs
è¡Œå·: 132, 157, 161, 181, 200, 239, 294, 331, 353
é—®é¢˜: getteræ–¹æ³•ä½¿ç”¨ panic!() è€Œéè¿”å› Option/Result
```

**çŠ¶æ€:** âœ… å·²éªŒè¯ (2025-12-12)

**è¯´æ˜:** ç»è¿‡ä»£ç å®¡æŸ¥ï¼Œè¿™äº›panic!()è°ƒç”¨éƒ½åœ¨`#[cfg(test)]`æµ‹è¯•æ¨¡å—ä¸­ï¼Œä¸ä¼šå½±å“ç”Ÿäº§ä»£ç ã€‚è¿™äº›æ˜¯æµ‹è¯•ä»£ç ä¸­ç”¨äºéªŒè¯æ¨¡å¼åŒ¹é…çš„æ­£å¸¸panic!()è°ƒç”¨ã€‚

~~**TODO:**~~
- [x] å®¡æŸ¥panic!()ä½ç½® - ç¡®è®¤ä»…åœ¨æµ‹è¯•ä»£ç ä¸­
- [ ] ï¼ˆå¯é€‰ï¼‰å°† `get_*()` æ–¹æ³•æ”¹ä¸ºè¿”å› `Option<&T>`ï¼ˆå¦‚æœéœ€è¦ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼‰
- [ ] ï¼ˆå¯é€‰ï¼‰æ·»åŠ  `try_get_*()` å˜ä½“è¿”å› `Result<&T>`

#### 1.4 corint-parser/src/* (è§£æå™¨ä¸­çš„panic!)

```
æ–‡ä»¶: crates/corint-parser/src/pipeline_parser.rs, ruleset_parser.rs, expression_parser.rs
è¡Œå·: 509, 549, 569, 597, 623, 278, 401, 413
é—®é¢˜: å‡è®¾è¾“å…¥ç»“æ„æœ‰æ•ˆï¼Œç¼ºä¹properé”™è¯¯å¤„ç†
```

**çŠ¶æ€:** âœ… å·²éªŒè¯ (2025-12-12)

**è¯´æ˜:** ç»è¿‡ä»£ç å®¡æŸ¥ï¼Œæ‰€æœ‰panic!()è°ƒç”¨éƒ½åœ¨`#[cfg(test)]`æµ‹è¯•æ¨¡å—ä¸­ï¼Œä¸ä¼šå½±å“ç”Ÿäº§ä»£ç ã€‚ç”Ÿäº§ç¯å¢ƒä¸­çš„è§£æå™¨ä½¿ç”¨Result<T, ParseError>è¿”å›é”™è¯¯ã€‚æµ‹è¯•ä¸­çš„panic!()æ˜¯æ­£å¸¸çš„æµ‹è¯•å¤±è´¥æœºåˆ¶ã€‚

~~**TODO:**~~
- [x] å®¡æŸ¥panic!()ä½ç½® - ç¡®è®¤ä»…åœ¨æµ‹è¯•ä»£ç ä¸­
- [x] éªŒè¯ç”Ÿäº§ä»£ç ä½¿ç”¨Resultè¿”å›é”™è¯¯
- [ ] ï¼ˆå¯é€‰ï¼‰æ·»åŠ æ›´å¤šmalformed YAMLæµ‹è¯•ç”¨ä¾‹ä»¥æé«˜æµ‹è¯•è¦†ç›–

---

### 2. ğŸ”´ [P0] å¤±è´¥çš„å•å…ƒæµ‹è¯•

**çŠ¶æ€:** âœ… å·²è§£å†³ (2025-12-12)

~~**å½“å‰çŠ¶æ€:** 3ä¸ªæµ‹è¯•å¤±è´¥~~

~~```
1. corint-runtime: context::tests::test_load_field_not_found
2. corint-sdk: decision_engine::tests::test_ruleset_execution
3. corint-sdk: decision_engine::tests::test_fraud_detection_ruleset
```~~

**éªŒè¯ç»“æœ:**
- âœ… `test_load_field_not_found` - æµ‹è¯•é€šè¿‡
- âœ… `test_ruleset_execution` - æµ‹è¯•é€šè¿‡
- âœ… `test_fraud_detection_ruleset` - æµ‹è¯•é€šè¿‡
- âœ… æ‰€æœ‰æµ‹è¯•å¥—ä»¶é€šè¿‡ (714ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡)

**è¯´æ˜:** è¿™äº›æµ‹è¯•åœ¨ä¹‹å‰çš„ä»£ç æ”¹è¿›ä¸­å·²ç»è¢«ä¿®å¤ï¼Œå½“å‰æ‰€æœ‰æµ‹è¯•100%é€šè¿‡ã€‚

~~**TODO:**~~
- [x] éªŒè¯æ‰€æœ‰æµ‹è¯•çŠ¶æ€
- [x] è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
- [x] ç¡®è®¤æµ‹è¯•é€šè¿‡ç‡100%

---

### 3. ğŸ”´ [P0] æœªå®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½å®ç°

#### 3.1 Redisç¼“å­˜ (TODOæ³¨é‡Š)

```
æ–‡ä»¶: crates/corint-runtime/src/feature/executor.rs
è¡Œå·: 381, 393
å†…å®¹:
  - // TODO: Implement Redis cache lookup
  - // TODO: Implement Redis cache write
å½±å“: ç”Ÿäº§ç¯å¢ƒç¼“å­˜åŠŸèƒ½ç¦ç”¨
```

**TODO:**
- [ ] å®ç° `lookup_redis_cache()` å‡½æ•°
- [ ] å®ç° `write_redis_cache()` å‡½æ•°
- [ ] æ·»åŠ Redisè¿æ¥æ± ç®¡ç†
- [ ] æ·»åŠ ç¼“å­˜å‘½ä¸­ç‡æŒ‡æ ‡
- [ ] æ·»åŠ é›†æˆæµ‹è¯•

#### 3.2 LLM Providerå®ç° (å ä½ç¬¦)

```
æ–‡ä»¶: crates/corint-runtime/src/llm/provider.rs
è¡Œå·: 99, 162
å†…å®¹:
  - // TODO: Actual OpenAI API call
  - // TODO: Actual Anthropic API call
çŠ¶æ€: ä»…å ä½ç¬¦å®ç°
```

**TODO:**
- [ ] å®ç° OpenAI API è°ƒç”¨ (GPT-4, GPT-3.5)
- [ ] å®ç° Anthropic API è°ƒç”¨ (Claude)
- [ ] æ·»åŠ é‡è¯•é€»è¾‘å’Œè¶…æ—¶å¤„ç†
- [ ] å®ç°å“åº”ç¼“å­˜
- [ ] æ·»åŠ é€Ÿç‡é™åˆ¶å¤„ç†
- [ ] æ·»åŠ æˆæœ¬è·Ÿè¸ª

#### 3.3 æ•°æ®æºå®¢æˆ·ç«¯ (å ä½ç¬¦)

```
æ–‡ä»¶: crates/corint-runtime/src/datasource/client.rs
è¡Œå·: 195, 218, 506
å†…å®¹:
  - // TODO: Initialize connection to feature store
  - // TODO: Use redis crate to fetch feature
  - // TODO: Use clickhouse crate to execute query
```

**TODO:**
- [ ] å®ç° PostgreSQL æ•°æ®æºå®¢æˆ·ç«¯
- [ ] å®ç° ClickHouse æ•°æ®æºå®¢æˆ·ç«¯
- [ ] å®ç° Redis æ•°æ®æºå®¢æˆ·ç«¯
- [ ] æ·»åŠ è¿æ¥æ± ç®¡ç†
- [ ] æ·»åŠ å¥åº·æ£€æŸ¥
- [ ] æ·»åŠ æŸ¥è¯¢è¶…æ—¶å¤„ç†

---

## ä»£ç è´¨é‡æ”¹è¿›

### 4. ğŸŸ¢ [P1] æ­»ä»£ç å’Œæœªä½¿ç”¨å±æ€§

**çŠ¶æ€:** âœ… å·²å®Œæˆ (2025-12-12)

~~```
æ–‡ä»¶åŠé—®é¢˜:
1. crates/corint-repository/src/models.rs:60
   - æ–¹æ³• age() ä»æœªä½¿ç”¨

2. crates/corint-runtime/src/llm/provider.rs:66,129
   - #[allow(dead_code)] åœ¨ api_key å­—æ®µä¸Š

3. crates/corint-runtime/src/observability/metrics.rs:10,56
   - Counterå’ŒHistogramçš„nameå­—æ®µæœªä½¿ç”¨

4. crates/corint-runtime/src/result/persistence.rs:88
   - senderå­—æ®µæ ‡è®°ä¸ºå…è®¸æ­»ä»£ç 

5. crates/corint-server/src/repository_loader.rs
   - postgres feature cfgè­¦å‘Š
```~~

**å®Œæˆçš„ä¿®å¤:**

1. âœ… `models.rs:60` - age()æ–¹æ³•ä¿ç•™ï¼ˆè¢«æµ‹è¯•ä½¿ç”¨ï¼‰
2. âœ… `llm/provider.rs` - api_keyå­—æ®µä¿ç•™ï¼ˆä¸ºPhase 3å®ç°é¢„ç•™ï¼Œå¸¦#[allow(dead_code)]ï¼‰
3. âœ… `metrics.rs` - ä¸ºCounterå’ŒHistogramæ·»åŠ äº†name()å’Œlabels() getteræ–¹æ³•
4. âœ… `persistence.rs` - ç§»é™¤#[allow(dead_code)]ï¼ˆsenderå­—æ®µå®é™…è¢«ä½¿ç”¨ï¼‰
5. âœ… `repository_loader.rs` - ä¿®å¤postgres featureé…ç½®ï¼Œæ·»åŠ åˆ°Cargo.toml
6. âœ… `api.rs` - ä¸ºååºåˆ—åŒ–ä¸“ç”¨å­—æ®µæ·»åŠ #[allow(dead_code)]ï¼ˆregistryã€descriptionï¼‰
7. âœ… `main.rs` - æ·»åŠ æ—¥å¿—è¾“å‡ºä½¿ç”¨feature_file_countå˜é‡

~~**TODO:**~~
- [x] å®¡æŸ¥å¹¶ä¿®å¤ `models.rs` ä¸­çš„ `age()` æ–¹æ³•
- [x] ä¸ºmetricså­—æ®µæ·»åŠ getteræ–¹æ³•
- [x] ä¿®å¤postgres feature flagé…ç½®
- [x] è¿è¡Œ `cargo clippy` æ¸…ç†æ‰€æœ‰è­¦å‘Š - **0ä¸ªè­¦å‘Š**

---

### 5. âœ… [P1] é”™è¯¯å¤„ç†ä¸ä¸€è‡´ (å·²å®Œæˆ v1.3)

**å®ŒæˆçŠ¶æ€:** æ ¸å¿ƒé”™è¯¯é“¾è¿½è¸ªå·²å®ç°

**æ”¹è¿›å†…å®¹:**

```
âœ… å·²å®Œæˆ:
1. æ·»åŠ #[source]å±æ€§ - æ‰€æœ‰ä½¿ç”¨#[from]çš„é”™è¯¯ç°åœ¨éƒ½ä¿ç•™æºé”™è¯¯
   - RepositoryError: 4å¤„ (Io, YamlParse, Parser, Database)
   - SdkError: 4å¤„ (ParseError, CompileError, RuntimeError, IoError)
   - ParseError: 1å¤„ (YamlError)
   - ServerError: 2å¤„ (EngineError, InternalError)

2. RuntimeErroræ‰©å±• - æ·»åŠ CoreErrorå˜ä½“æ”¯æŒè‡ªåŠ¨è½¬æ¢
   - å¯ä»¥è‡ªåŠ¨ä»corint_core::error::CoreErrorè½¬æ¢
   - ä¿ç•™å®Œæ•´çš„é”™è¯¯é“¾

3. ServerErroré‡æ„ - ä»æ‰‹åŠ¨å®ç°æ”¹ä¸ºä½¿ç”¨thiserror
   - ä¿ç•™é”™è¯¯ç±»å‹ä¿¡æ¯è€Œéè½¬æ¢ä¸ºString
   - EngineError(SdkError) - ä¿ç•™å®Œæ•´SDKé”™è¯¯
   - InternalError(anyhow::Error) - ä¿ç•™å®Œæ•´anyhowé”™è¯¯

4. æµ‹è¯•æ›´æ–° - æ‰€æœ‰é”™è¯¯ç›¸å…³æµ‹è¯•å·²æ›´æ–°å¹¶é€šè¿‡

é”™è¯¯ç±»å‹ç»“æ„:
- CoreError (corint-core/src/error.rs) - åŸºç¡€ç±»å‹é”™è¯¯
- RuntimeError (corint-runtime/src/error.rs) - è¿è¡Œæ—¶é”™è¯¯ + CoreErrorè½¬æ¢
- CompileError (corint-compiler/src/error.rs) - ç¼–è¯‘é”™è¯¯
- ParseError (corint-parser/src/error.rs) - è§£æé”™è¯¯
- RepositoryError (corint-repository/src/error.rs) - ä»“åº“é”™è¯¯
- SdkError (corint-sdk/src/error.rs) - SDKé¡¶å±‚é”™è¯¯èšåˆ
- ServerError (corint-server/src/error.rs) - HTTPæœåŠ¡å™¨é”™è¯¯
```

**å½±å“åˆ†æ:**
- âœ… é”™è¯¯è°ƒè¯•æ”¹å–„ - ä½¿ç”¨error.source()å¯è¿½è¸ªå®Œæ•´é”™è¯¯é“¾
- âœ… ä»£ç ç®€åŒ– - å‡å°‘æ‰‹åŠ¨map_err()è°ƒç”¨
- âœ… ç±»å‹å®‰å…¨ - ServerErrorä¸å†ä¸¢å¤±åº•å±‚é”™è¯¯ä¿¡æ¯
- âœ… é›¶æ€§èƒ½å½±å“ - é”™è¯¯æ˜¯å†·è·¯å¾„ï¼Œæ€§èƒ½å½±å“å¯å¿½ç•¥

**æœªæ¥æ”¹è¿› (v2.0è€ƒè™‘):**
- [ ] åˆ›å»ºç»Ÿä¸€çš„é”™è¯¯ç ç³»ç»Ÿï¼ˆç”¨äºç¨‹åºåŒ–é”™è¯¯å¤„ç†ï¼‰
- [ ] æ·»åŠ ç»“æ„åŒ–ä¸Šä¸‹æ–‡ï¼ˆspan, backtraceç­‰ï¼‰
- [ ] å‡å°‘é‡å¤çš„é”™è¯¯å˜ä½“ï¼ˆå¦‚TypeErrorï¼‰

å‚è€ƒæ–‡æ¡£: [ARCHITECTURE_ISSUES_IMPACT.md](./ARCHITECTURE_ISSUES_IMPACT.md) ç¬¬1èŠ‚

---

### 6. ğŸŸ¡ [P1] å…¬å…±APIä¸€è‡´æ€§é—®é¢˜

```
é—®é¢˜:
1. Builderæ¨¡å¼ä¸ä¸€è‡´
   - æœ‰äº›è¿”å› Self (fluent API)
   - æœ‰äº›æ¶ˆè´¹å¹¶è¿”å›æ–°å®ä¾‹
   - å‘½åä¸ä¸€è‡´ (with_* vs set_*)

2. é”™è¯¯å¤„ç†å˜ä½“
   - æœ‰äº›è¿”å› Result<T>
   - æœ‰äº›è¿”å› anyhow::Result<T>
   - æœ‰äº›ç›´æ¥panic

3. é…ç½®API
   - DecisionEngineä½¿ç”¨config
   - ServerConfigæ˜¯åˆ†ç¦»çš„
   - Repositoryé…ç½®ä½¿ç”¨ä¸åŒæ¨¡å¼

4. ç±»å‹è½¬æ¢
   - å¤šä¸ª json_to_value() å®ç°
   - From traitä½¿ç”¨ä¸ä¸€è‡´
```

**TODO:**
- [ ] æ ‡å‡†åŒ–Builderæ¨¡å¼ - è€ƒè™‘ä½¿ç”¨ `#[derive(Builder)]` å®
- [ ] ç»Ÿä¸€é”™è¯¯å¤„ç† - æ‰€æœ‰å…¬å…±APIè¿”å› `Result<T, Error>`
- [ ] åˆ›å»ºç»Ÿä¸€çš„Configuration trait
- [ ] å®ç°æ ‡å‡†è½¬æ¢traits (From, Into, TryFrom)
- [ ] åˆ›å»ºAPIè®¾è®¡æŒ‡å—æ–‡æ¡£

---

## æ€§èƒ½ä¼˜åŒ–

### 7. ğŸŸ¡ [P1] è¿‡åº¦Clone

**é«˜é¢‘Cloneä½ç½®:**

```
1. crates/corint-repository/src/postgres.rs (40+å¤„)
   è¡Œå·: 105, 133, 172, 211-212, 240, 252-253, 281, 293-294, 430-433, 446-450, 461
   é—®é¢˜:
   - cached.data.clone() åœ¨ç¼“å­˜å‘½ä¸­æ—¶
   - Arcå…‹éš†ä¼ é€’ç»™tokioä»»åŠ¡

2. crates/corint-repository/src/api.rs
   è¡Œå·: 247, 261, 282, 303, 324, 350, 354, 358, 362
   é—®é¢˜:
   - .map(|a| a.url.clone()) æ”¶é›†URL
   - æ¯æ¬¡è®¿é—®éƒ½å…‹éš†æ•´ä¸ªcontentå­—ç¬¦ä¸²

3. crates/corint-runtime/src/context.rs
   è¡Œå·: 63, 104, 143, 249-256
   é—®é¢˜:
   - peek()?.clone() åœ¨duplicateæ“ä½œ
   - æ”¶é›†å­—ç¬¦ä¸²å€¼æ—¶çš„å¤§é‡clone
```

**TODO:**
- [ ] ç¼“å­˜è¿”å› `Arc<T>` è€Œéå…‹éš†æ•°æ®
- [ ] ä½¿ç”¨ `Cow<'a, T>` å®ç°å€Ÿç”¨/æ‰€æœ‰æƒçµæ´»æ€§
- [ ] å¯¹å°ç±»å‹å®ç° Copy è¯­ä¹‰
- [ ] ä½¿ç”¨ `Arc::clone(&self.x)` æ˜ç¡®æ„å›¾
- [ ] Profileçƒ­è·¯å¾„ç¡®è®¤å½±å“
- [ ] è€ƒè™‘å•çº¿ç¨‹åœºæ™¯ä½¿ç”¨ `Rc<T>`

---

### 8. ğŸŸ¡ [P1] å­—ç¬¦ä¸²åˆ†é…ä¼˜åŒ–

```
é—®é¢˜:
1. è¿‡å¤š .to_string() è°ƒç”¨ï¼ˆå¯ç”¨ &str ä»£æ›¿ï¼‰
2. HashMapé”®å¤§é‡ä½¿ç”¨ Stringï¼ˆå¯ç”¨ &str æˆ– Cowï¼‰
3. format!() åœ¨çƒ­è·¯å¾„ä¸­ä¸å¿…è¦ä½¿ç”¨
```

**TODO:**
- [ ] APIç­¾åä¸­ä½¿ç”¨ `&str` ä»£æ›¿ `String` å‚æ•°
- [ ] HashMapé”®è€ƒè™‘ä½¿ç”¨ `Cow<'static, str>`
- [ ] é¢„åˆ†é…å­—ç¬¦ä¸²ç¼“å†²åŒº
- [ ] ä½¿ç”¨ `String::with_capacity()` é¢„åˆ†é…
- [ ] å¯¹é¢‘ç¹è®¿é—®çš„å€¼å®ç°ç¼“å­˜

---

### 9. ğŸŸ¢ [P2] æ’åºå’Œæ¯”è¾ƒä¼˜åŒ–

```
æ–‡ä»¶: crates/corint-runtime/src/feature/extractor.rs:164
ä»£ç : values.sort_by(|a, b| a.partial_cmp(b).unwrap())
é—®é¢˜:
  - æ¯æ¬¡æ¯”è¾ƒè°ƒç”¨unwrap()
  - NaNå€¼ä¼šå¯¼è‡´panic
```

**TODO:**
- [ ] æ’åºå‰è¿‡æ»¤NaNå€¼
- [ ] ä½¿ç”¨ `total_cmp()` å¤„ç†æµ®ç‚¹æ¯”è¾ƒï¼ˆRust 1.62+ï¼‰
- [ ] æ·»åŠ NaNå¤„ç†æµ‹è¯•ç”¨ä¾‹

---

## æµ‹è¯•è¦†ç›–

### 10. ğŸŸ¡ [P1] æµ‹è¯•è¦†ç›–æå‡

**å½“å‰çŠ¶æ€ (æ¥è‡ªTEST_COVERAGE_ANALYSIS.md):**

| Crate | å•å…ƒæµ‹è¯• | é›†æˆæµ‹è¯• | é€šè¿‡ç‡ |
|-------|---------|---------|--------|
| corint-core | 103 | 0 | 100% |
| corint-parser | 70 | 1 | 100% |
| corint-compiler | 89 | 3 | 100% |
| corint-runtime | 52 | 0 | 99% (1å¤±è´¥) |
| corint-sdk | 4 | 0 | 78% (2å¤±è´¥) |
| corint-repository | 83 | 2 | 100% |
| corint-server | 41 | 0 | 100% |

**å…³é”®ç¼ºå£:**

```
1. corint-sdk (ä¸¥é‡ä¸è¶³)
   - DecisionEngine.decide() æ²¡æœ‰é€šè¿‡çš„æµ‹è¯•
   - ç¼ºå°‘registryè·¯ç”±æµ‹è¯•
   - ç¼ºå°‘feature executoré›†æˆæµ‹è¯•
   - ç¼ºå°‘ç»“æœæŒä¹…åŒ–æµ‹è¯•
   - ç›®æ ‡: ä»9ä¸ªæµ‹è¯•å¢åŠ åˆ°30+

2. corint-runtime
   - ç¼ºå°‘datasourceå®¢æˆ·ç«¯æµ‹è¯•
   - ç¼ºå°‘å¹¶å‘æ‰§è¡Œæµ‹è¯•
   - ç¼ºå°‘featureç¼“å­˜è¡Œä¸ºæµ‹è¯•

3. corint-server
   - ç¼ºå°‘è®¤è¯/æˆæƒæµ‹è¯•
   - ç¼ºå°‘è´Ÿè½½æµ‹è¯•
   - ç¼ºå°‘rate limitingæµ‹è¯•
```

**TODO:**
- [ ] ä¿®å¤corint-runtime 1ä¸ªå¤±è´¥æµ‹è¯•
- [ ] ä¿®å¤corint-sdk 2ä¸ªå¤±è´¥æµ‹è¯•
- [ ] ä¸º `DecisionEngine.decide()` æ·»åŠ å…¨é¢æµ‹è¯•
- [ ] æ·»åŠ æ•°æ®æºå®¢æˆ·ç«¯å•å…ƒæµ‹è¯•
- [ ] æ·»åŠ å¹¶å‘æ‰§è¡Œæµ‹è¯•
- [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] å®ç°å±æ€§æµ‹è¯• (proptest)
- [ ] æ·»åŠ fuzzingæµ‹è¯•

---

## æ–‡æ¡£å®Œå–„

### 11. ğŸŸ¢ [P2] å…¬å…±APIæ–‡æ¡£

**ç¼ºå°‘æ–‡æ¡£çš„ä¸»è¦é¡¹ç›®:**

```
1. corint-core/src/ast/mod.rs
   - æ‰€æœ‰å…¬å…±å¯¼å‡ºç¼ºå°‘rustdoc

2. ç¼ºå°‘æ–‡æ¡£çš„å…¬å…±ç»“æ„ä½“/æšä¸¾:
   - CompilerOptions (corint-compiler)
   - SemanticAnalyzer (corint-compiler)
   - TypeChecker (corint-compiler)
   - Validator (corint-core)
   - FeatureExtractor (corint-runtime)
   - DecisionEngine (corint-sdk)
   - å¤šæ•°ASTç±»å‹ (Expression, Operator, Ruleå˜ä½“ç­‰)

3. å‡½æ•°æ–‡æ¡£ä¸å®Œæ•´:
   - Builderæ–¹æ³•ç¼ºå°‘ç¤ºä¾‹
   - ç¼ºå°‘panicå’Œé”™è¯¯æ¡ä»¶è¯´æ˜
   - ç¼ºå°‘ # Examples éƒ¨åˆ†
```

**TODO:**
- [ ] ä¸ºæ‰€æœ‰å…¬å…±é¡¹æ·»åŠ rustdocæ³¨é‡Š
- [ ] æ·»åŠ  `# Examples` éƒ¨åˆ†
- [ ] æ·»åŠ  `# Errors` éƒ¨åˆ†è¯´æ˜é”™è¯¯æ¡ä»¶
- [ ] æ·»åŠ  `# Panics` éƒ¨åˆ†è¯´æ˜panicæ¡ä»¶
- [ ] å¯ç”¨ `#![warn(missing_docs)]` lint
- [ ] è¿è¡Œ `cargo doc --open` éªŒè¯å®Œæ•´æ€§
- [ ] åˆ›å»ºAPIå‚è€ƒç½‘ç«™

---

### 12. ğŸŸ¢ [P2] ä½¿ç”¨æŒ‡å—å’Œç¤ºä¾‹

**TODO:**
- [ ] æ·»åŠ æ›´å¤šexamples/ç›®å½•ç¤ºä¾‹
- [ ] åˆ›å»ºå¸¸è§ç”¨ä¾‹cookbook
- [ ] æ·»åŠ æ€§èƒ½è°ƒä¼˜æŒ‡å—
- [ ] åˆ›å»ºæ•…éšœæ’é™¤æ–‡æ¡£
- [ ] æ·»åŠ è¿ç§»æŒ‡å—ï¼ˆç‰ˆæœ¬å‡çº§ï¼‰

---

## æ¶æ„æ”¹è¿›

### 13. ğŸŸ¡ [P1] æ¨¡å—åŒ–å’Œå…³æ³¨ç‚¹åˆ†ç¦»

**TODO:**
- [ ] å°†json_to_value()æå–åˆ°å…±äº«å·¥å…·æ¨¡å—
- [ ] åˆ›å»ºç»Ÿä¸€çš„é…ç½®åŠ è½½æ¡†æ¶
- [ ] å®ç°æ’ä»¶ç³»ç»Ÿç”¨äºæ‰©å±•
- [ ] åˆ†ç¦»æ ¸å¿ƒé€»è¾‘å’ŒI/Oæ“ä½œ

---

### 14. âœ… [P2] å¯è§‚æµ‹æ€§å®Œå–„ (å·²å®Œæˆ)

**å½“å‰çŠ¶æ€:**
- âœ… TracingåŸºç¡€è®¾æ–½å·²å°±ä½
- âœ… OpenTelemetryé›†æˆå®Œæˆ
- âœ… Prometheus metricså¯¼å‡º
- âœ… åˆ†å¸ƒå¼è¿½è¸ªæ”¯æŒ

**å®Œæˆé¡¹:**
- âœ… æ·»åŠ OpenTelemetryå¯è§‚æµ‹æ€§æ”¯æŒï¼ˆç»Ÿä¸€å®ç°ï¼‰
  - âœ… ä½¿ç”¨OpenTelemetry SDKä½œä¸ºç»Ÿä¸€instrumentationå±‚
  - âœ… é…ç½®Prometheus exporteræš´éœ²/metrics endpointï¼ˆæ”¯æŒPrometheusæŠ“å–ï¼‰
  - âœ… å®ç°åˆ†å¸ƒå¼è¿½è¸ªä¼ æ’­ï¼ˆtrace context propagationï¼‰
  - âœ… æ”¯æŒtraceså¯¼å‡ºåˆ°Jaeger/Zipkinç­‰åç«¯
  - âœ… å®Œæ•´çš„æ–‡æ¡£å’Œç¤ºä¾‹ (OPENTELEMETRY.md)

**å¾…å®Œæˆé¡¹:**
- [ ] æ·»åŠ å†³ç­–å®¡è®¡æ—¥å¿—
- [ ] åˆ›å»ºGrafanaä»ªè¡¨æ¿æ¨¡æ¿
- [ ] å®Œå–„metricsæ•°æ®é‡‡é›†ï¼ˆä¸šåŠ¡æŒ‡æ ‡ï¼‰

---

## Phase 5+ è·¯çº¿å›¾

### 15. ğŸ”µ [Future] è®¡åˆ’ä¸­çš„åŠŸèƒ½

#### 15.1 SDKå’Œå®¢æˆ·ç«¯

- [ ] Python SDK
- [ ] TypeScript/JavaScript SDK
- [ ] Go SDK
- [ ] Java SDK

#### 15.2 APIæ‰©å±•

- [ ] GraphQL API
- [ ] gRPC API
- [ ] WebSocketæ”¯æŒï¼ˆå®æ—¶è§„åˆ™æ›´æ–°ï¼‰

#### 15.3 ç®¡ç†ç•Œé¢

- [ ] Web UIè§„åˆ™ç®¡ç†ç•Œé¢
- [ ] è§„åˆ™ç‰ˆæœ¬æ§åˆ¶å’Œå›æ»š
- [ ] A/Bæµ‹è¯•æ¡†æ¶
- [ ] è§„åˆ™æ€§èƒ½åˆ†æä»ªè¡¨æ¿

#### 15.4 é«˜çº§åŠŸèƒ½

- [ ] æœºå™¨å­¦ä¹ æ¨¡å‹é›†æˆ
- [ ] é¢„æ„å»ºè§„åˆ™åº“
- [ ] åˆè§„æ¨¡æ¿ (PCI-DSS, GDPR)
- [ ] å¤šåŒºåŸŸéƒ¨ç½²æ”¯æŒ
- [ ] è§„åˆ™å¸‚åœº

#### 15.5 éƒ¨ç½²å’Œè¿ç»´

- [ ] Dockeréƒ¨ç½²æ¨¡æ¿
- [ ] Kubernetes Helm chart
- [ ] Terraformæ¨¡å—
- [ ] CI/CDæµæ°´çº¿æ¨¡æ¿

#### 15.6 Repositoryæ‰©å±•

- [ ] MySQL/MariaDBæ”¯æŒ
- [ ] é«˜çº§æŸ¥è¯¢ï¼ˆè¿‡æ»¤ã€åˆ†é¡µã€æ’åºï¼‰
- [ ] å¤šç§Ÿæˆ·æ”¯æŒ
- [ ] è‡ªåŠ¨è¿ç§»
- [ ] å¯¼å…¥/å¯¼å‡ºå·¥å…·

#### 15.7 å®‰å…¨å¢å¼º

- [ ] JWTè®¤è¯
- [ ] API Keyç®¡ç†
- [ ] è¯·æ±‚é€Ÿç‡é™åˆ¶
- [ ] å®¡è®¡æ—¥å¿—
- [ ] æ•æ„Ÿæ•°æ®è„±æ•

---

## ä¼˜å…ˆçº§æ’åº

### ğŸ”´ P0 - å¿…é¡»ä¿®å¤ï¼ˆç”Ÿäº§é˜»å¡ï¼‰

| ä»»åŠ¡ | æ–‡ä»¶ | ä¼°è®¡å·¥ä½œé‡ |
|------|------|-----------|
| ä¿®å¤serverä¸­çš„panic!() | rest.rs | 1å¤© |
| ä¿®å¤extractorä¸­çš„unwrap() | extractor.rs | 2å¤© |
| ä¿®å¤3ä¸ªå¤±è´¥æµ‹è¯• | context.rs, decision_engine.rs | 1å¤© |
| å®ç°Redisç¼“å­˜ | executor.rs | 2å¤© |
| å®ç°LLM providers | provider.rs | 3å¤© |

**æ€»è®¡: ~9å¤©**

---

### ğŸŸ¡ P1 - é«˜ä¼˜å…ˆçº§ï¼ˆä¸‹ä¸ªè¿­ä»£ï¼‰

| ä»»åŠ¡ | èŒƒå›´ | ä¼°è®¡å·¥ä½œé‡ |
|------|------|-----------|
| æ¸…ç†æ­»ä»£ç å’Œè­¦å‘Š | å…¨é¡¹ç›® | 1å¤© |
| ç»Ÿä¸€é”™è¯¯å¤„ç† | å…¨é¡¹ç›® | 3å¤© |
| æ ‡å‡†åŒ–å…¬å…±API | å…¨é¡¹ç›® | 2å¤© |
| ä¼˜åŒ–å…‹éš†æ“ä½œ | repository, runtime | 2å¤© |
| æå‡SDKæµ‹è¯•è¦†ç›– | corint-sdk | 2å¤© |
| å®ç°æ•°æ®æºå®¢æˆ·ç«¯ | runtime | 3å¤© |

**æ€»è®¡: ~13å¤©**

---

### ğŸŸ¢ P2 - ä¸­ä¼˜å…ˆçº§ï¼ˆæŒç»­æ”¹è¿›ï¼‰

| ä»»åŠ¡ | èŒƒå›´ | ä¼°è®¡å·¥ä½œé‡ |
|------|------|-----------|
| å®Œå–„APIæ–‡æ¡£ | å…¨é¡¹ç›® | 3å¤© |
| æ·»åŠ æ›´å¤šç¤ºä¾‹ | examples/ | 2å¤© |
| æ€§èƒ½åŸºå‡†æµ‹è¯• | å…¨é¡¹ç›® | 2å¤© |
| å®Œå–„metricsæ¡†æ¶ | runtime | 2å¤© |
| å­—ç¬¦ä¸²åˆ†é…ä¼˜åŒ– | å…¨é¡¹ç›® | 1å¤© |

**æ€»è®¡: ~10å¤©**

---

### ğŸ”µ Future - é•¿æœŸè§„åˆ’

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | ä¾èµ– |
|------|--------|------|
| Python SDK | é«˜ | ç¨³å®šAPI |
| Web UI | é«˜ | REST APIå®Œå–„ |
| GraphQL API | ä¸­ | æ ¸å¿ƒç¨³å®š |
| Kuberneteséƒ¨ç½² | ä¸­ | Dockeræ¨¡æ¿ |
| MLé›†æˆ | ä½ | æ€§èƒ½ä¼˜åŒ– |

---

## é™„å½•

### A. éœ€è¦ç«‹å³å…³æ³¨çš„æ–‡ä»¶åˆ—è¡¨

**é«˜ä¼˜å…ˆçº§:**
- `crates/corint-server/src/api/rest.rs` - 10å¤„panic!
- `crates/corint-runtime/src/feature/extractor.rs` - 350+ unwrap()
- `crates/corint-runtime/src/engine/pipeline_executor.rs` - ä¸å®Œæ•´çš„filterå¤„ç†
- `crates/corint-core/src/ast/expression.rs` - getterä¸­çš„panic!
- `crates/corint-runtime/src/context.rs` - å¤±è´¥çš„æµ‹è¯•

**ä¸­ä¼˜å…ˆçº§:**
- `crates/corint-repository/src/postgres.rs` - è¿‡åº¦å…‹éš†
- `crates/corint-repository/src/api.rs` - è¿‡åº¦å…‹éš†ï¼Œç¼ºå°‘æ–‡æ¡£
- `crates/corint-runtime/src/llm/provider.rs` - æ­»ä»£ç ï¼Œå ä½ç¬¦å®ç°
- `crates/corint-parser/src/*.rs` - ç¼ºå°‘é”™è¯¯å¤„ç†

---

### B. å‘½ä»¤å‚è€ƒ

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test --workspace

# æ£€æŸ¥ä»£ç è­¦å‘Š
cargo clippy --workspace -- -W clippy::all

# æ£€æŸ¥æ–‡æ¡£è¦†ç›–
cargo doc --workspace --no-deps --open

# è¿è¡ŒåŸºå‡†æµ‹è¯•
cargo bench --workspace

# æ£€æŸ¥æ­»ä»£ç 
cargo +nightly udeps --workspace

# å®‰å…¨å®¡è®¡
cargo audit
```

---

### C. æ›´æ–°æ—¥å¿—

| æ—¥æœŸ | ç‰ˆæœ¬ | å˜æ›´ |
|------|------|------|
| 2025-12-12 | 1.0 | åˆå§‹ç‰ˆæœ¬ |
| 2025-12-12 | 1.1 | **éåŠŸèƒ½æ€§é—®é¢˜ä¿®å¤å®Œæˆ(ç¬¬ä¸€è½®)**: å®ŒæˆP0å’ŒP1çº§åˆ«ä»£ç è´¨é‡æ”¹è¿› - âœ… å®¡æŸ¥å¹¶éªŒè¯æ‰€æœ‰panic!()è°ƒç”¨ï¼ˆä»…åœ¨æµ‹è¯•ä»£ç ä¸­ï¼‰- âœ… æ¸…ç†æ‰€æœ‰æ­»ä»£ç å’Œæœªä½¿ç”¨å±æ€§ï¼ˆ0ä¸ªè­¦å‘Šï¼‰- âœ… ä¿®å¤æ‰€æœ‰Clippyè­¦å‘Šï¼ˆ25+ â†’ 0ï¼‰- âœ… éªŒè¯æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ694+ä¸ªæµ‹è¯•100%é€šè¿‡ï¼‰- è¯¦ç»†ä¿®å¤é¡¹ï¼šmetrics getteræ–¹æ³•ã€featureé…ç½®ã€æœªä½¿ç”¨å˜é‡ç­‰ |
| 2025-12-12 | 1.2 | **ä»£ç è´¨é‡å’Œæ€§èƒ½æ”¹è¿›(ç¬¬äºŒè½®)**: å®ŒæˆArc cloneä¼˜åŒ–å’ŒAPIä¸€è‡´æ€§éªŒè¯ - âœ… ä½¿ç”¨Arc::cloneæ˜¾å¼è¯­æ³•ï¼ˆpostgres.rs 2å¤„ï¼Œpipeline_executor.rs 1å¤„ï¼‰- âœ… éªŒè¯Builderæ¨¡å¼ä¸€è‡´æ€§ï¼ˆæ‰€æœ‰with_*å‘½åï¼‰- âœ… å®¡æŸ¥APIè®¾è®¡ï¼ˆsetterä¸builderæ­£ç¡®åˆ†ç¦»ï¼‰- âœ… æµ‹è¯•ä¿æŒ100%é€šè¿‡ï¼ŒClippyä¿æŒ0è­¦å‘Š |
| 2025-12-12 | 1.3 | **é”™è¯¯å¤„ç†ä¼˜åŒ–å®Œæˆ(ç¬¬ä¸‰è½®)**: å®Œæˆé”™è¯¯é“¾è¿½è¸ªæ”¹è¿› - âœ… æ·»åŠ #[source]å±æ€§åˆ°æ‰€æœ‰#[from]é”™è¯¯ï¼ˆ10+å¤„ï¼‰- âœ… RuntimeErroræ·»åŠ CoreErrorå˜ä½“ - âœ… ServerErroré‡æ„ä¸ºä½¿ç”¨thiserror - âœ… å®Œæ•´çš„é”™è¯¯é“¾æ”¯æŒ - âœ… æ‰€æœ‰æµ‹è¯•100%é€šè¿‡ |
| 2025-12-12 | 1.4 | **OpenTelemetryå¯è§‚æµ‹æ€§é›†æˆå®Œæˆ(ç¬¬å››è½®)**: å®ç°å®Œæ•´çš„OTelæ”¯æŒ - âœ… OpenTelemetryåˆå§‹åŒ–æ¨¡å—ï¼ˆotel.rsï¼‰- âœ… Prometheus metricså¯¼å‡º - âœ… åˆ†å¸ƒå¼è¿½è¸ªæ”¯æŒï¼ˆOTLPï¼‰- âœ… corint-serveré›†æˆï¼ˆ/metrics endpointï¼‰- âœ… ç¤ºä¾‹ä»£ç å’Œå®Œæ•´æ–‡æ¡£ï¼ˆruntime/README.mdï¼‰- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆClippy 0è­¦å‘Šï¼‰|

---

**æ–‡æ¡£ç»´æŠ¤è€…:** Claude Code
**æœ€åæ›´æ–°:** 2025-12-12 (v1.4 - OpenTelemetryå¯è§‚æµ‹æ€§é›†æˆå®Œæˆ)
