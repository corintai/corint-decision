# Supabase PostgreSQL Database Configuration
# Stores risk control events and decisions for feature calculation
# Uses Session Pooler for IPv4 compatibility

name: supabase_events
type: sql
provider: postgresql
# Session Pooler connection string format:
# postgresql://postgres.[PROJECT_REF]:[PASSWORD]@[POOLER_HOST]:[PORT]/postgres
connection_string: "postgresql://postgres.hfsbvqfkwbslcuvokmis:XPRozJ3DZox5KUnh@aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres?sslmode=require"
database: "postgres"
events_table: "events"

# Connection settings
pool_size: 10
timeout_ms: 5000
pooling_enabled: true

# PostgreSQL-specific options
options:
  # Session Pooler user format: postgres.[PROJECT_REF]
  user: "postgres.hfsbvqfkwbslcuvokmis"
  password: "XPRozJ3DZox5KUnh"
  # Connection pool settings
  max_connections: "10"
  min_connections: "2"
  connection_timeout: "5"
  idle_timeout: "300"
  # Statement timeout (in seconds)
  statement_timeout: "30"
  # Application name for monitoring
  application_name: "corint_decision_engine"
  # SSL mode (required for Supabase)
  sslmode: "require"

